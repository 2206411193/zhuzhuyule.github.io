!function(){function e(e,t){function o(){f.width=f.elementWidth+2*b.offsetX,f.height=f.elementHeight+2*b.offsetY,b.radius>0&&(b.pointCountX=Math.round(f.width/b.radius),b.pointCountY=Math.round(f.height/b.radius)),b.pointCountX%2==0&&(b.pointCountX=b.pointCountX+1),b.pointCountY%2==0&&(b.pointCountY=b.pointCountY+1),y.spaceX=Math.min(f.elementWidth,f.width/(b.pointCountX-1)),y.spaceY=Math.min(f.elementHeight,f.height/(b.pointCountY+1)),y.radius=Math.ceil(Math.max(y.spaceX,y.spaceY)),f.left=0,f.top=0,b.canvasWidth=f.elementWidth,b.movementLeft?(d.style.left=-y.radius+"px",b.canvasWidth+=y.radius,f.left=y.radius-b.offsetX):d.style.left=-b.offsetX+"px",b.movementRight&&(b.canvasWidth+=y.radius),b.canvasHeight=f.elementHeight,b.movementTop?(d.style.top=-y.radius+"px",b.canvasHeight+=y.radius,f.top=y.radius-b.offsetY):d.style.top=-b.offsetY+"px",b.movementBottom&&(b.canvasHeight+=y.radius),d.width=b.canvasWidth,d.height=b.canvasHeight}function n(){y.pointHolder=[];var e,t,o,n;for(t=!0,o=0,n=b.pointCountX;o<n;o++)b.movementTop?(t?(e=i(f.left+o*y.spaceX,f.top,0,0,0,!0,y.spaceX,"P",b.debug),t=!1):(e=i(f.left+o*y.spaceX,f.top,0,0,0,!0,y.spaceX,"C",b.debug),t=!0),0!==o&&o!==n-1||(e.color="#00FF00",e.movement=!1),y.pointHolder.push(e)):(0!==o&&o!==n-1||(e=i(f.left+o*y.spaceX,f.top,0,0,0,!1,0,"P",b.debug)),y.pointHolder.push(e));for(t=!1,o=1,n=b.pointCountY+1;o<n;o++)b.movementRight?(t?(e=i(f.left+f.width,f.top+o*y.spaceY,0,0,0,!0,y.spaceY,"P",b.debug),t=!1):(e=i(f.left+f.width,f.top+o*y.spaceY,0,0,0,!0,y.spaceY,"C",b.debug),t=!0),y.pointHolder.push(e)):(1===o?e=i(f.left+f.width,f.top+(o-1)*y.spaceY,0,0,0,!1,0,"P",b.debug):o===b.pointCountY&&(e=i(f.left+f.width,f.top+(o+1)*y.spaceY,0,0,0,!1,0,"P",b.debug)),y.pointHolder.push(e));for(t=!0,o=b.pointCountX-1,n=-1;o>n;o--)b.movementBottom?(t?(e=i(f.left+o*y.spaceX,f.top+f.height,0,0,0,!0,y.spaceX,"P",b.debug),t=!1):(e=i(f.left+o*y.spaceX,f.top+f.height,0,0,0,!0,y.spaceX,"C",b.debug),t=!0),0!==o&&o!==b.pointCountX-1||(e.color="#00FF00",e.movement=!1),y.pointHolder.push(e)):(0!==o&&o!==b.pointCountX-1||(e=i(f.left+o*y.spaceX,f.top+f.height,0,0,0,!1,0,"P",b.debug)),y.pointHolder.push(e));for(t=!1,o=b.pointCountY,n=-1;o>n;o--)b.movementLeft?(t?(e=i(f.left,f.top+o*y.spaceY,0,0,0,!0,y.spaceY,"P",b.debug),t=!1):(e=i(f.left,f.top+o*y.spaceY,0,0,0,!0,y.spaceY,"C",b.debug),t=!0),y.pointHolder.push(e)):(0===o?e=i(f.left,f.top+o*y.spaceY,0,0,0,!1,0,"P",b.debug):o===b.pointCountY&&(e=i(f.left,f.top+(o+1)*y.spaceY,0,0,0,!1,0,"P",b.debug)),y.pointHolder.push(e))}function i(e,t,o,n,i,l,r,a,s){var p={};return p.x=e,p.y=t,p.xp=e,p.yp=t,p.sx=0,p.sy=0,p.distance=i,p.movement=l,p.radius=r,p.type=a,p.visible=s,p}function l(){requestAnimFrame(l),function(){u.clearRect(0,0,b.canvasWidth,b.canvasHeight);var e,t,o=y.pointHolder;for(u.beginPath(),u.moveTo(o[0].x,o[0].y),e=1,t=o.length;e<t;e+=2){var n=o[e],i=h.x-n.xp,l=h.y-n.yp;n.distance=Math.sqrt(i*i+l*l),n.distance<n.radius?"wobble"===b.moveTypeIn?(n.sx=n.sx*b.wobbleFactor+(h.x-n.x)*b.wobbleSpeed,n.sy=n.sy*b.wobbleFactor+(h.y-n.y)*b.wobbleSpeed,n.x=n.x+n.sx,n.y=n.y+n.sy):"move"===b.moveTypeIn&&(n.x-=(n.x-h.x)/b.moveSpeed,n.y-=(n.y-h.y)/b.moveSpeed):"wobble"===b.moveTypeOut?(n.sx=n.sx*b.wobbleFactor+(n.xp-n.x)*b.wobbleSpeed,n.sy=n.sy*b.wobbleFactor+(n.yp-n.y)*b.wobbleSpeed,n.x=n.x+n.sx,n.y=n.y+n.sy):"move"===b.moveTypeOut&&(n.x-=(n.x-n.xp)/b.moveSpeed,n.y-=(n.y-n.yp)/b.moveSpeed);var r=o[e-1],s=o[e+1];e>2&&e<o.length-2&&(r.movement&&(r.x=(o[e-2].x+n.x)/2,r.y=(o[e-2].y+n.y)/2),s.movement&&(s.x=(o[e+2].x+n.x)/2,s.y=(o[e+2].y+n.y)/2)),u.quadraticCurveTo(n.x,n.y,s.x,s.y)}b.lineColor.length>0&&(u.lineWidth=b.lineWidth,u.strokeStyle=b.lineColor,u.stroke());b.bodyColor.length>0&&(u.fillStyle=b.bodyColor,u.fill());if(b.debug){for(e=0,t=o.length;e<t;e++){(n=o[e]).visible&&("P"===n.type?a(n.x,n.y,3,"#FF0000"):a(n.x,n.y,6,"#FF00FF"),n.color&&a(n.x,n.y,12,n.color))}u.strokeStyle="#000000",u.strokeRect(0,0,b.canvasWidth,b.canvasHeight)}}(),b.autoResize&&(m||f.elementWidth===e.offsetWidth&&f.elementHeight===e.offsetHeight||(m=!0,f.elementWidth=e.offsetWidth,f.elementHeight=e.offsetHeight,c=window.setTimeout(r,10)))}function r(){o(),n(),m=!1}function a(e,t,o,n){u.beginPath(),u.arc(e,t,o,0,2*Math.PI),u.strokeStyle=n,u.stroke()}function s(e){h=function(e,t){var o=e.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}(d,e)}function p(e){h.x=-1e4,h.y=-1e4}var d,u,h={x:0,y:0},m=!1,c=0,f={},y={},b={};if(b.name="wobblew",b.position="relative",b.depth=-1,b.overflowX="visible",b.overflowY="visible",b.offsetX=0,b.offsetY=0,b.moveTypeIn="move",b.moveTypeOut="wobble",b.wobbleFactor=.95,b.wobbleSpeed=.1,b.moveSpeed=6,b.lineWidth=1,b.transplantLineColor=!1,b.lineColor="",b.transplantBodyColor=!0,b.bodyColor="",b.radius=50,b.pointCountX=7,b.pointCountY=5,b.movementLeft=!0,b.movementRight=!0,b.movementTop=!0,b.movementBottom=!0,b.autoResize=!0,b.debug=!1,void 0!==t)for(var v in t)t.hasOwnProperty(v)&&b.hasOwnProperty(v)&&(b[v]=t[v]);if(!e)throw Error("\nNo div element found");if(b.pointCountX%2==0)throw Error("\nParam pointCountX must be an odd integer");if(b.pointCountY%2==0)throw Error("\nParam pointCountY must be an odd integer");HTMLElement.prototype.__defineGetter__("currentStyle",function(){return this.ownerDocument.defaultView.getComputedStyle(this,null)}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},(d=document.createElement("canvas")).id=b.name,d.style.position="absolute",d.style.zIndex=b.depth.toString(),d.addEventListener("mousemove",s),d.addEventListener("mouseleave",p),u=d.getContext("2d"),e.appendChild(d),e.style.position=b.position,e.style.zIndex=(b.depth+1).toString(),b.overflowX.length>0&&(e.parentElement.style.overflowX=b.overflowX),b.overflowY.length>0&&(e.parentElement.style.overflowY=b.overflowY),b.transplantBodyColor&&e.currentStyle.backgroundColor.length>0&&(b.bodyColor=e.currentStyle.backgroundColor),b.transplantLineColor&&e.currentStyle.borderColor.length>0&&(b.lineColor=e.currentStyle.borderColor),f.elementWidth=e.offsetWidth,f.elementHeight=e.offsetHeight,o(),n(),l(),b.transplantBodyColor&&e.currentStyle.backgroundColor.length>0&&(e.className.length>0?e.className+=" wobbleTransparentBK":e.className=" wobbleTransparentBK"),b.transplantLineColor&&e.currentStyle.borderColor.length>0&&(e.className.length>0?e.className+=" wobbleTransparentLine":e.className=" wobbleTransparentLine")}window.WobbleWindow=e}(),"undefined"!=typeof jQuery&&function(e){e.fn.wobbleWindow=function(t){var o=arguments;return this.each(function(){if(e.data(this,"plugin_WobbleWindow")){var n=e.data(this,"plugin_WobbleWindow");n[t]?n[t].apply(this,Array.prototype.slice.call(o,1)):e.error("Method "+t+" does not exist on jQuery.wobbleWindow")}else e.data(this,"plugin_WobbleWindow",new WobbleWindow(this,t))})}}(jQuery);